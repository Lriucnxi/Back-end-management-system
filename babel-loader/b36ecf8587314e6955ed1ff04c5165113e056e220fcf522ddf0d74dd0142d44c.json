{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Cookie from \"js-cookie\";\nexport default {\n  data() {\n    return {};\n  },\n  methods: {\n    handleOpen(key, keyPath) {\n      /* console.log(key, keyPath); */\n    },\n    handleClose(key, keyPath) {\n      /* console.log(key, keyPath); */\n    },\n    //路由与跳转路由不一致时才允许跳转\n    ClickMenu(item) {\n      if (this.$route.path !== item.path && !(this.$route.path === \"/home\" && item.path === \"/\")) {\n        this.$router.push(item.path);\n      }\n      this.$store.commit(\"selectMenu\", item);\n    }\n  },\n  computed: {\n    //过滤无子菜单\n    noChildren() {\n      return this.menuData.filter(item => !item.children);\n    },\n    //过滤有子菜单\n    hasChildren() {\n      return this.menuData.filter(item => item.children);\n    },\n    //设置传入菜单数据\n    menuData() {\n      //判断当前数据，如果缓存中没有，去store中去获取\n      return JSON.parse(Cookie.get(\"menu\")) || this.$store.state.tab.menu;\n    },\n    isCollapse() {\n      return this.$store.state.tab.isCollapse;\n    }\n  },\n  active() {\n    return this.index === this.rootMenu.activeIndex;\n  }\n};","map":{"version":3,"names":["Cookie","data","methods","handleOpen","key","keyPath","handleClose","ClickMenu","item","$route","path","$router","push","$store","commit","computed","noChildren","menuData","filter","children","hasChildren","JSON","parse","get","state","tab","menu","isCollapse","active","index","rootMenu","activeIndex"],"sources":["src/components/NavMenu.vue"],"sourcesContent":["<template>\r\n  <el-menu\r\n    default-active=\"1-4-1\"\r\n    class=\"el-menu-vertical-demo\"\r\n    @open=\"handleOpen\"\r\n    @close=\"handleClose\"\r\n    :collapse=\"isCollapse\"\r\n    background-color=\"#545c64\"\r\n    text-color=\"#fff\"\r\n    active-text-color=\"#ffd04b\"\r\n  >\r\n    <h3>{{ isCollapse ? \"后台\" : \"通用后台管理系统\" }}</h3>\r\n    <el-menu-item\r\n      @click=\"ClickMenu(item)\"\r\n      :index=\"item.name\"\r\n      v-for=\"item in noChildren\"\r\n      :key=\"item.name\"\r\n    >\r\n      <i :class=\"`el-icon-${item.icon}`\"></i>\r\n      <span slot=\"title\">{{ item.label }}</span>\r\n    </el-menu-item>\r\n\r\n    <el-submenu\r\n      :index=\"item.label\"\r\n      v-for=\"item in hasChildren\"\r\n      :key=\"item.label\"\r\n    >\r\n      <template slot=\"title\">\r\n        <i :class=\"`el-icon-${item.icon}`\"></i>\r\n        <span slot=\"title\">{{ item.label }}</span>\r\n      </template>\r\n\r\n      <el-menu-item-group v-for=\"subitem in item.children\" :key=\"subitem.path\">\r\n        <el-menu-item :index=\"subitem.path\" @click=\"ClickMenu(subitem)\">{{\r\n          subitem.label\r\n        }}</el-menu-item>\r\n      </el-menu-item-group>\r\n    </el-submenu>\r\n  </el-menu>\r\n</template>\r\n\r\n<script>\r\nimport Cookie from \"js-cookie\";\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n\r\n  methods: {\r\n    handleOpen(key, keyPath) {\r\n      /* console.log(key, keyPath); */\r\n    },\r\n    handleClose(key, keyPath) {\r\n      /* console.log(key, keyPath); */\r\n    },\r\n    //路由与跳转路由不一致时才允许跳转\r\n    ClickMenu(item) {\r\n      if (\r\n        this.$route.path !== item.path &&\r\n        !(this.$route.path === \"/home\" && item.path === \"/\")\r\n      ) {\r\n        this.$router.push(item.path);\r\n      }\r\n      this.$store.commit(\"selectMenu\", item);\r\n    },\r\n  },\r\n  computed: {\r\n    //过滤无子菜单\r\n    noChildren() {\r\n      return this.menuData.filter((item) => !item.children);\r\n    },\r\n    //过滤有子菜单\r\n    hasChildren() {\r\n      return this.menuData.filter((item) => item.children);\r\n    },\r\n    //设置传入菜单数据\r\n    menuData() {\r\n      //判断当前数据，如果缓存中没有，去store中去获取\r\n      return JSON.parse(Cookie.get(\"menu\")) || this.$store.state.tab.menu;\r\n    },\r\n    isCollapse() {\r\n      return this.$store.state.tab.isCollapse;\r\n    },\r\n  },\r\n  active() {\r\n    return this.index === this.rootMenu.activeIndex;\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-menu-vertical-demo:not(.el-menu--collapse) {\r\n  width: 200px;\r\n  min-height: 400px;\r\n}\r\n\r\n.el-menu {\r\n  height: 100vh;\r\n  border-right: none;\r\n\r\n  h3 {\r\n    color: #fff;\r\n    text-align: center;\r\n    line-height: 48px;\r\n    font-size: 16px;\r\n    font-weight: 400;\r\n    /* height: 48px; */\r\n    white-space: nowrap;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";AA0CA,OAAAA,MAAA;AACA;EACAC,KAAA;IACA;EACA;EAEAC,OAAA;IACAC,WAAAC,GAAA,EAAAC,OAAA;MACA;IAAA,CACA;IACAC,YAAAF,GAAA,EAAAC,OAAA;MACA;IAAA,CACA;IACA;IACAE,UAAAC,IAAA;MACA,IACA,KAAAC,MAAA,CAAAC,IAAA,KAAAF,IAAA,CAAAE,IAAA,IACA,OAAAD,MAAA,CAAAC,IAAA,gBAAAF,IAAA,CAAAE,IAAA,WACA;QACA,KAAAC,OAAA,CAAAC,IAAA,CAAAJ,IAAA,CAAAE,IAAA;MACA;MACA,KAAAG,MAAA,CAAAC,MAAA,eAAAN,IAAA;IACA;EACA;EACAO,QAAA;IACA;IACAC,WAAA;MACA,YAAAC,QAAA,CAAAC,MAAA,CAAAV,IAAA,KAAAA,IAAA,CAAAW,QAAA;IACA;IACA;IACAC,YAAA;MACA,YAAAH,QAAA,CAAAC,MAAA,CAAAV,IAAA,IAAAA,IAAA,CAAAW,QAAA;IACA;IACA;IACAF,SAAA;MACA;MACA,OAAAI,IAAA,CAAAC,KAAA,CAAAtB,MAAA,CAAAuB,GAAA,kBAAAV,MAAA,CAAAW,KAAA,CAAAC,GAAA,CAAAC,IAAA;IACA;IACAC,WAAA;MACA,YAAAd,MAAA,CAAAW,KAAA,CAAAC,GAAA,CAAAE,UAAA;IACA;EACA;EACAC,OAAA;IACA,YAAAC,KAAA,UAAAC,QAAA,CAAAC,WAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}