{"ast":null,"code":"import _ElementUI2 from \"element-ui/lib/theme-chalk/index.css\";\nimport _ElementUI from \"element-ui/lib\";\nimport Vue from \"vue\";\nimport store from \"./store\";\nimport \"element-ui/lib/theme-chalk/index.css\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport \"./api/mock\";\nimport Cookie from \"js-cookie\";\nVue.config.productionTip = false;\nVue.use(_ElementUI);\n/* Vue.use(Button);\nVue.use(Row); */\n\n//添加全局前置导航守卫\nrouter.beforeEach((to, from, next) => {\n  //先判断token是否存在\n  const token = Cookie.get(\"token\");\n  //如果token不存在，说明用户未登录，应该跳转到登录页\n  if (!token && to.name !== \"login\") {\n    next({\n      name: \"login\"\n    });\n    //如果token存在，说明用户登录，跳转至首页\n  } else if (token && to.name === \"login\") {\n    next({\n      name: \"home\"\n    });\n  } else {\n    next();\n  }\n});\nnew Vue({\n  router,\n  store,\n  render: h => h(App),\n  created() {\n    store.commit(\"addMenu\", router);\n  }\n}).$mount(\"#app\");","map":{"version":3,"names":["Vue","store","App","router","Cookie","config","productionTip","use","_ElementUI","beforeEach","to","from","next","token","get","name","render","h","created","commit","$mount"],"sources":["C:/Users/Lriucnxi/Desktop/my-app/src/main.js"],"sourcesContent":["import Vue from \"vue\";\nimport ElementUI from \"element-ui\";\nimport store from \"./store\";\nimport \"element-ui/lib/theme-chalk/index.css\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport \"./api/mock\";\nimport Cookie from \"js-cookie\";\n\nVue.config.productionTip = false;\nVue.use(ElementUI);\n/* Vue.use(Button);\nVue.use(Row); */\n\n//添加全局前置导航守卫\nrouter.beforeEach((to, from, next) => {\n  //先判断token是否存在\n  const token = Cookie.get(\"token\");\n  //如果token不存在，说明用户未登录，应该跳转到登录页\n  if (!token && to.name !== \"login\") {\n    next({ name: \"login\" });\n    //如果token存在，说明用户登录，跳转至首页\n  } else if (token && to.name === \"login\") {\n    next({ name: \"home\" });\n  } else {\n    next();\n  }\n});\n\nnew Vue({\n  router,\n  store,\n  render: (h) => h(App),\n  created() {\n    store.commit(\"addMenu\", router);\n  },\n}).$mount(\"#app\");\n"],"mappings":";;AAAA,OAAOA,GAAG,MAAM,KAAK;AAErB,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAO,sCAAsC;AAC7C,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAO,YAAY;AACnB,OAAOC,MAAM,MAAM,WAAW;AAE9BJ,GAAG,CAACK,MAAM,CAACC,aAAa,GAAG,KAAK;AAChCN,GAAG,CAACO,GAAG,CAAAC,UAAU,CAAC;AAClB;AACA;;AAEA;AACAL,MAAM,CAACM,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC;EACA,MAAMC,KAAK,GAAGT,MAAM,CAACU,GAAG,CAAC,OAAO,CAAC;EACjC;EACA,IAAI,CAACD,KAAK,IAAIH,EAAE,CAACK,IAAI,KAAK,OAAO,EAAE;IACjCH,IAAI,CAAC;MAAEG,IAAI,EAAE;IAAQ,CAAC,CAAC;IACvB;EACF,CAAC,MAAM,IAAIF,KAAK,IAAIH,EAAE,CAACK,IAAI,KAAK,OAAO,EAAE;IACvCH,IAAI,CAAC;MAAEG,IAAI,EAAE;IAAO,CAAC,CAAC;EACxB,CAAC,MAAM;IACLH,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AAEF,IAAIZ,GAAG,CAAC;EACNG,MAAM;EACNF,KAAK;EACLe,MAAM,EAAGC,CAAC,IAAKA,CAAC,CAACf,GAAG,CAAC;EACrBgB,OAAOA,CAAA,EAAG;IACRjB,KAAK,CAACkB,MAAM,CAAC,SAAS,EAAEhB,MAAM,CAAC;EACjC;AACF,CAAC,CAAC,CAACiB,MAAM,CAAC,MAAM,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}